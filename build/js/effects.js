"use strict";!function(){var e=document.querySelector(".img-upload__wrapper");window.effectScaleContainer=document.querySelector(".img-upload__scale"),window.effectScale=e.querySelector(".scale__line"),window.effectPin=effectScale.querySelector(".scale__pin"),window.effectScaleCurrentLevel=effectScale.querySelector(".scale__level"),window.effectInput=effectScaleContainer.querySelector(".scale__value"),window.previewBigPhoto=e.querySelector(".img-upload__preview"),window.previewEffectInputs=e.querySelectorAll(".effects__radio"),window.previewEffectImages=e.querySelectorAll(".effects__preview");var t=["original","grayscale(","sepia(","invert(","blur(","brightness("];function f(e){return function(){resetPhotoFilter(),previewBigPhoto.classList.add(previewEffectImages[e].classList[effectClassIndex]),filterToMax()}}window.filterToMax=function(){effectPin.style.left=effectScale.offsetWidth+"px",effectScaleCurrentLevel.style.width=effectScale.offsetWidth+"px",effectInput.defaultValue=100},window.resetPhotoFilter=function(){window.effectClassIndex=1,previewBigPhoto.classList.length>effectClassIndex&&(previewBigPhoto.style="",previewBigPhoto.classList.remove(previewBigPhoto.classList[effectClassIndex]))},effectScaleContainer.classList.add("hidden");for(var c=0;c<previewEffectImages.length;c++)previewEffectImages[c].addEventListener("click",f(c)),0===c?previewEffectImages[c].addEventListener("click",function(){effectScaleContainer.classList.add("hidden")}):previewEffectImages[c].addEventListener("click",function(){effectScaleContainer.classList.remove("hidden"),filterToMax()});function i(){previewEffectInputs[0].checked||(previewEffectInputs[1].checked?previewBigPhoto.style.filter=t[1]+(effectInput.value/100).toFixed(2)+")":previewEffectInputs[2].checked?previewBigPhoto.style.filter=t[2]+(effectInput.value/100).toFixed(2)+")":previewEffectInputs[3].checked?previewBigPhoto.style.filter=t[3]+Math.round(effectInput.value)+"%)":previewEffectInputs[4].checked?previewBigPhoto.style.filter=t[4]+(effectInput.value/33.3).toFixed(2)+"px)":previewEffectInputs[5].checked&&(previewBigPhoto.style.filter=t[5]+(1+effectInput.value/50).toFixed(2)+")"))}effectPin.onmousedown=function(e){function t(e){var t=e.clientX-effectScale.getBoundingClientRect().left;t<0&&(t=0);var f=effectScale.offsetWidth;f<t&&(t=f),effectPin.style.left=t+"px",effectScaleCurrentLevel.style.width=t+"px",effectInput.defaultValue=(t/(effectScale.offsetWidth/100)).toFixed(2),i()}e.preventDefault(),document.addEventListener("mousemove",t),document.addEventListener("mouseup",function e(){document.removeEventListener("mouseup",e);document.removeEventListener("mousemove",t)})},effectPin.ondragstart=function(){return!1},effectScale.addEventListener("click",function(e){var t=e.clientX-effectScale.getBoundingClientRect().left;t>effectScale.offsetWidth||t<0||(effectPin.style.left=t+"px",effectScaleCurrentLevel.style.width=t+"px",effectInput.defaultValue=t,effectInput.defaultValue=Math.round(t/(effectScale.offsetWidth/100)),i())})}();